<span class="pipe">|</span> class Port extends localDatabase { var $jsonType = null; var $sql =
<<< SQL SELECT id, name, state, lat, lon, destination_type, bitmap_index, destination_type || '_' || id as destination_id, decode(id, 'US', '1', name) as
    "ORDER" FROM petimp.ports ORDER BY decode(id, 'US', '1', name) SQL; public function get($state=n ull) { $where=[ ]; $bindVariables=[ ]; if (isset($state)) { $state=e xplode( ',', strtoupper($state)); $where[]='state IN(:' . implode( ',:', $state) . ')'; foreach
    ($state as $k) { $bindVariables[ ":$k"]=$ k; } } //Add where conditions to sql string if (count($where) !==0 ) { $this->sql .= ' WHERE ' . implode(' AND ', $where); } try { return parent::get($bindVariables); } catch (Exception $e) { throw $e; } }